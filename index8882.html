<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸»åŠ›èµ„é‡‘ç‰ˆ</title>
    <style>
        /* ä¼˜åŒ–åçš„ç§»åŠ¨ç«¯æ ·å¼ */
        :root {
            --green: #2ecc71;
            --red: #e74c3c;
            --blue: #3498db;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'å¾®è½¯é›…é»‘', sans-serif; 
        }

        body { 
            background: #f8f9fa; 
            padding: 12px; 
            font-size: 14px; 
        }

        .container { 
            max-width: 100%; 
            margin: 0 auto; 
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .time-filter {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin: 12px 0;
        }

        .time-btn {
            padding: 8px;
            border: none;
            border-radius: 6px;
            background: #ecf0f1;
            color: #2c3e50;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .time-btn.active {
            background: var(--blue);
            color: white;
        }

        .stock-card {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
        }

        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
        }

        .stock-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .funds-flow {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 12px;
        }

        .fund-item {
            padding: 10px;
            border-radius: 6px;
            background: #f8f9fa;
        }

        .fund-label {
            font-size: 0.8rem;
            color: #7f8c8d;
            margin-bottom: 4px;
        }

        .fund-value {
            font-weight: 600;
            font-size: 1rem;
        }

        .positive { color: var(--green); }
        .negative { color: var(--red); }

        /* åŠ è½½åŠ¨ç”» */
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--blue);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 15px auto;
        }

        @keyframes spin { 
            0% { transform: rotate(0deg); } 
            100% { transform: rotate(360deg); } 
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ˆ ä¸»åŠ›èµ„é‡‘ç›‘æ§</h1>
            <div class="time-filter" id="timeFilter">
                <button class="time-btn active" data-period="all">å…¨å¤©</button>
                <button class="time-btn" data-period="morning">æ—©ç›˜</button>
                <button class="time-btn" data-period="afternoon">åˆç›˜</button>
            </div>
        </div>
        <div id="loading" class="loader"></div>
        <div id="stockList"></div>
    </div>

    <script>
        // ä¸»åŠ›èµ„é‡‘æ•°æ®æ¥å£ï¼ˆç¤ºä¾‹ï¼‰
        const API_URL = 'https://api.example.com/funds_flow?symbol=';

        // æ¨¡æ‹Ÿä¸»åŠ›èµ„é‡‘æ•°æ®
        const mockFundsData = {
            '600000': {
                all: { main: 120000000, big: 80000000 },
                morning: { main: 80000000, big: 50000000 },
                afternoon: { main: 40000000, big: 30000000 }
            },
            '000001': {
                all: { main: -50000000, big: -30000000 },
                morning: { main: -20000000, big: -10000000 },
                afternoon: { main: -30000000, big: -20000000 }
            }
        };

        // æ—¶é—´è¿‡æ»¤å™¨
        document.getElementById('timeFilter').addEventListener('click', (e) => {
            if(e.target.tagName === 'BUTTON') {
                document.querySelectorAll('.time-btn').forEach(btn => 
                    btn.classList.remove('active'));
                e.target.classList.add('active');
                loadData(e.target.dataset.period);
            }
        });

        // ä¸»åŠ›èµ„é‡‘å±•ç¤ºç»„ä»¶
        function createFundsFlow(main, big) {
            return `
                <div class="funds-flow">
                    <div class="fund-item">
                        <div class="fund-label">ä¸»åŠ›å‡€é¢</div>
                        <div class="fund-value ${main >= 0 ? 'positive' : 'negative'}">
                            ${(main / 10000).toLocaleString()}ä¸‡
                        </div>
                    </div>
                    <div class="fund-item">
                        <div class="fund-label">å¤§å•å‡€é¢</div>
                        <div class="fund-value ${big >= 0 ? 'positive' : 'negative'}">
                            ${(big / 10000).toLocaleString()}ä¸‡
                        </div>
                    </div>
                </div>
            `;
        }

        // æ•°æ®åŠ è½½
        async function loadData(period = 'all') {
            document.getElementById('loading').style.display = 'block';
            
            // æ¨¡æ‹Ÿæ•°æ®è¯·æ±‚
            const data = [
                {
                    symbol: '600000',
                    name: 'æµ¦å‘é“¶è¡Œ',
                    change: 9.98,
                    time: '14:30',
                    funds: mockFundsData['600000'][period]
                },
                {
                    symbol: '000001',
                    name: 'å¹³å®‰é“¶è¡Œ',
                    change: -2.15,
                    time: '14:35',
                    funds: mockFundsData['000001'][period]
                }
            ];

            renderStocks(data);
            document.getElementById('loading').style.display = 'none';
        }

        // æ¸²æŸ“è‚¡ç¥¨åˆ—è¡¨
        function renderStocks(data) {
            const container = document.getElementById('stockList');
            container.innerHTML = data.map(stock => `
                <div class="stock-card">
                    <div class="stock-header">
                        <div>
                            <div class="stock-name">${stock.name}</div>
                            <div style="font-size:0.8rem;color:#95a5a6">${stock.symbol}</div>
                        </div>
                        <div style="color:${stock.change > 0 ? var(--red) : var(--green)}">
                            ${stock.change}%
                        </div>
                    </div>
                    ${createFundsFlow(stock.funds.main, stock.funds.big)}
                    <div style="margin-top:8px;font-size:0.8rem;color:#95a5a6">
                        æ›´æ–°æ—¶é—´ï¼š${stock.time}
                    </div>
                </div>
            `).join('');
        }

        // åˆå§‹åŒ–åŠ è½½
        loadData();
    </script>
</body>
</html>